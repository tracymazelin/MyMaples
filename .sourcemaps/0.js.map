{"version":3,"sources":["../../src/pages/add-tree/add-tree.module.ts","../../src/pages/add-tree/add-tree.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddTreePage } from './add-tree';\n\n@NgModule({\n  declarations: [\n    AddTreePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddTreePage),\n  ],\n})\nexport class AddTreePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-tree/add-tree.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavParams, ViewController, Platform, ToastController, ModalController, LoadingController } from 'ionic-angular';\nimport { DataServiceProvider, Tree } from '../../providers/data-service/data-service';\nimport { Geolocation } from '@ionic-native/geolocation';\n\n\nimport { Storage } from '@ionic/storage';\n\n/**\n * Generated class for the AddTreePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-add-tree',\n  templateUrl: 'add-tree.html',\n})\nexport class AddTreePage {\n\n  trees: Tree[] = [];\n  tree: Tree = <Tree>{};\n\n  constructor(public view: ViewController, private navParams: NavParams, private plt: Platform, public toastCtrl: ToastController, \n   private storage: Storage, public loadingCtrl: LoadingController, private modal: ModalController, public storageService: DataServiceProvider, private geolocation: Geolocation) {\n    \n    this.tree.id = Date.now();\n    this.getGPS();\n  }\n\n  closeModal(){\n    this.view.dismiss();\n  }\n\n  \n  getGPS(){\n    this.geolocation.getCurrentPosition().then((resp) => {\n      this.tree.longitude = resp.coords.longitude,\n      this.tree.latitude = resp.coords.latitude\n     }).catch((error) => {\n       console.log('Error getting location', error);\n     });\n  }\n\n  addTree(){\n    this.storageService.addTree(this.tree).then(tree => { \n    })  \n    this.view.dismiss();\n  }\n\n  ionViewDidLoad() {\n    console.log(this.tree)\n  }\n\n  calculateNumberOfTaps(){\n    const diameter = (this.tree.circumference)/Math.PI\n    if (diameter <= 12) {\n      const toast = this.toastCtrl.create({\n        message: 'This tree is too small to tap!',\n        duration: 3000\n      })\n      toast.present();\n    }\n    else if (diameter >= 13 && diameter <= 20){\n      this.tree.number_taps = 1\n    } else if (diameter >= 21 && diameter <= 27) {\n      this.tree.number_taps = 2\n    } else if (diameter >= 28 ){\n      this.tree.number_taps = 3\n    }\n    \n  }\n\n  presentLoading() {\n    const loader = this.loadingCtrl.create({\n      content: \"Fetching GeoLocation..\",\n      duration: 3000\n    });\n    loader.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-tree/add-tree.ts"],"sourceRoot":""}